<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–£—á–µ–±–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏</title>

    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="style.css" />

    <!-- Markdown + MathJax (–∫–∞–∫ –∏ –±—ã–ª–æ) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <script defer src="app.js"></script>
  </head>

  <body>
    <aside class="sidebar">
      <div class="logo">–£—á–µ–±–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏</div>

      <div>
        <h3>–ù–æ–≤–∞—è –∫–æ–ª–æ–¥–∞</h3>
        <input
          id="deckTitleInput"
          class="input"
          placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–¥—ã"
        />
        <input
          id="deckDescInput"
          class="input"
          placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"
          style="margin-top: 6px"
        />
        <input
          id="deckExamInput"
          class="input"
          type="date"
          style="margin-top: 6px"
        />
        <button id="createDeckBtn" class="btn" style="margin-top: 8px">
          + –°–æ–∑–¥–∞—Ç—å
        </button>
      </div>

      <div>
        <h3>–ö–æ–ª–æ–¥—ã</h3>
        <ul class="deck-list"></ul>
      </div>

      <!-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ -->
      <div>
        <h3>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h3>
        <div
          id="scheduleGrid"
          style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 6px"
        >
          <label class="btn-secondary btn schedule-cell"
            ><input type="checkbox" id="schMon" /> –ü–Ω</label
          >
          <label class="btn-secondary btn schedule-cell"
            ><input type="checkbox" id="schTue" /> –í—Ç</label
          >
          <label class="btn-secondary btn schedule-cell"
            ><input type="checkbox" id="schWed" /> –°—Ä</label
          >
          <label class="btn-secondary btn schedule-cell"
            ><input type="checkbox" id="schThu" /> –ß—Ç</label
          >
          <label class="btn-secondary btn schedule-cell"
            ><input type="checkbox" id="schFri" /> –ü—Ç</label
          >
          <label class="btn-secondary btn schedule-cell"
            ><input type="checkbox" id="schSat" /> –°–±</label
          >
          <label class="btn-secondary btn schedule-cell"
            ><input type="checkbox" id="schSun" /> –í—Å</label
          >
        </div>
        <label class="enforce">
          <input type="checkbox" id="schEnforce" />
          –°—Ç—Ä–æ–≥–æ —Å–æ–±–ª—é–¥–∞—Ç—å (–µ—Å–ª–∏ —Å–µ–≥–æ–¥–Ω—è –Ω–µ –≤ –ø–ª–∞–Ω–µ ‚Äî –Ω–µ –Ω–∞—á–∏–Ω–∞—Ç—å)
        </label>
      </div>

      <div>
        <button
          id="exportBtn"
          class="btn-secondary btn"
          style="width: 100%; margin-top: 10px"
        >
          ‚¨áÔ∏è –≠–∫—Å–ø–æ—Ä—Ç JSON
        </button>
        <button
          id="importBtn"
          class="btn-secondary btn"
          style="width: 100%; margin-top: 6px"
        >
          ‚¨ÜÔ∏è –ò–º–ø–æ—Ä—Ç JSON
        </button>
      </div>
    </aside>

    <main class="main">
      <div class="main-header">
        <div>
          <div class="deck-title">–£—á–µ–±–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏</div>
          <div id="deckExamInfo" class="deck-exam-info"></div>
        </div>
        <div class="mode-switch">
          <button class="mode-btn active">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
          <button class="mode-btn">–£—á–∏—Ç—å</button>
        </div>
      </div>

      <!-- –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
      <section id="manageSection">
        <div class="card-form">
          <h3>–ù–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞</h3>

          <div class="field" id="frontField" data-img="">
            <textarea
              id="cardFrontInput"
              class="textarea"
              rows="2"
              placeholder="–í–æ–ø—Ä–æ—Å..."
            ></textarea>
            <div class="thumb" id="frontThumb">
              <img alt="front" />
              <span class="x" data-target="front">√ó</span>
            </div>
            <button type="button" class="icon-btn" id="frontImgBtn">üì∑</button>
            <input
              id="frontImgFile"
              type="file"
              accept="image/*"
              style="display: none"
            />
          </div>

          <div class="field" id="backField" data-img="" style="margin-top: 8px">
            <textarea
              id="cardBackInput"
              class="textarea"
              rows="2"
              placeholder="–û—Ç–≤–µ—Ç..."
            ></textarea>
            <div class="thumb" id="backThumb">
              <img alt="back" />
              <span class="x" data-target="back">√ó</span>
            </div>
            <button type="button" class="icon-btn" id="backImgBtn">üì∑</button>
            <input
              id="backImgFile"
              type="file"
              accept="image/*"
              style="display: none"
            />
          </div>

          <div style="margin-top: 8px">
            <select id="cardTypeSelect" class="input">
              <option value="basic">–û–±—ã—á–Ω–∞—è (–≤–æ–ø—Ä–æ—Å / –æ—Ç–≤–µ—Ç)</option>
              <option value="single">–¢–µ—Å—Ç (–æ–¥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç)</option>
            </select>
          </div>

          <!-- –¢–µ–º–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
          <div style="margin-top: 8px">
            <input
              id="cardTopicInput"
              class="input"
              list="topicsDatalist"
              placeholder="–¢–µ–º–∞ (–Ω–∞–ø—Ä. ¬´–ò–Ω—Ç–µ–≥—Ä–∞–ª—ã¬ª, ¬´–õ–µ–∫—Å–∏–∫–∞¬ª)"
            />
            <datalist id="topicsDatalist"></datalist>
          </div>

          <div id="optionsEditor" style="margin-top: 8px; display: none">
            <div class="options-header">
              <span class="muted">–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞</span>
              <button
                type="button"
                id="addOptionBtn"
                class="btn btn-secondary small"
              >
                + –í–∞—Ä–∏–∞–Ω—Ç
              </button>
            </div>
            <div id="optionsList"></div>
            <p class="muted tiny">
              –î–æ–±–∞–≤—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –æ—Ç–º–µ—Ç—å –æ–¥–∏–Ω –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π.
            </p>
          </div>

          <div class="form-actions">
            <button class="btn" id="saveCardBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button
              class="btn btn-secondary"
              id="cancelEditBtn"
              style="display: none"
            >
              –û—Ç–º–µ–Ω–∏—Ç—å
            </button>
          </div>
        </div>

        <div class="card-list">
          <div class="search-bar">
            <input
              class="input"
              id="searchInput"
              placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏–ª–∏ –æ—Ç–≤–µ—Ç–∞–º..."
            />
            <select class="input" id="topicFilter">
              <option value="">–í—Å–µ —Ç–µ–º—ã</option>
            </select>
          </div>

          <table>
            <thead>
              <tr>
                <th>–í–æ–ø—Ä–æ—Å</th>
                <th>–û—Ç–≤–µ—Ç</th>
                <th>–¢–µ–º–∞</th>
                <th>–ò–Ω—Ç–µ—Ä–≤–∞–ª</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div class="empty-state">–î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É üëÜ</div>
        </div>
      </section>

      <!-- –†–µ–∂–∏–º –æ–±—É—á–µ–Ω–∏—è -->
      <section id="studySection" style="display: none">
        <div class="study-card">
          <div class="study-card-inner">
            <div class="study-label">–í–æ–ø—Ä–æ—Å</div>
            <div class="study-text">–í—ã–±–µ—Ä–∏ –∫–æ–ª–æ–¥—É –∏ –Ω–∞–∂–º–∏ ¬´–£—á–∏—Ç—å¬ª.</div>
            <div id="optionsContainer" class="option-list"></div>
          </div>
          <div class="study-actions"></div>
        </div>
      </section>
    </main>

    <div class="toast-container" id="toastContainer"></div>
  </body>
</html>
